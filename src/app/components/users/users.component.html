<mat-spinner *ngIf="spinner" class="spinner"></mat-spinner>

<mat-form-field *ngIf="!spinner">
  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
</mat-form-field>

<mat-table *ngIf="!spinner" [dataSource]="dataSource">

  <ng-container cdkColumnDef="userName">
    <mat-header-cell *cdkHeaderCellDef> User name </mat-header-cell>
    <mat-cell *cdkCellDef="let row"> {{row.displayName}} </mat-cell>
  </ng-container>

  <ng-container cdkColumnDef="email">
    <mat-header-cell *cdkHeaderCellDef> email </mat-header-cell>
    <mat-cell *cdkCellDef="let row"> {{row.userPrincipalName}} </mat-cell>
  </ng-container>

  <ng-container cdkColumnDef="action">
    <mat-header-cell *cdkHeaderCellDef> Action </mat-header-cell>
    <mat-cell *cdkCellDef="let row">
      <button mat-icon-button color="primary" (click)="viewUser(row.id)" routerLink="/organisation/contacts/userDetails">
        <mat-icon class="mat-18" svgIcon="view" aria-hidden="false" aria-label="profile SVG icon"></mat-icon>view
      </button>
    </mat-cell>
  </ng-container>

  <mat-header-row *cdkHeaderRowDef="['userName', 'email', 'action']"></mat-header-row>
  <mat-row *cdkRowDef="let row; columns: ['userName', 'email', 'action']"></mat-row>
</mat-table>